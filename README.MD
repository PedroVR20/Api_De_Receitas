# üìò Projeto API de Receitas (DDD + Spring Boot)

Este projeto √© uma API simples de gerenciamento de **Receitas** desenvolvida em **Java 17** com **Spring Boot**, organizada utilizando princ√≠pios de **DDD (Domain-Driven Design)** e preparada para rodar em cont√™ineres Docker.

A API permite:

* Criar receitas
* Listar receitas
* Buscar receita por ID
* Atualizar receitas (via PATCH)
* Excluir receitas

Toda a estrutura foi pensada para ser limpa, escal√°vel e de f√°cil manuten√ß√£o.

---

# üìÇ Estrutura do Projeto

```
src
‚îî‚îÄ‚îÄ main
    ‚îú‚îÄ‚îÄ java
    ‚îÇ   ‚îî‚îÄ‚îÄ com.exemplo.receitas
    ‚îÇ       ‚îú‚îÄ‚îÄ application
    ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ controllers
    ‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ReceitaController.java
    ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ dtos
    ‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CriarReceitaRequestDto.java
    ‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ CriarReceitaResponseDto.java
    ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ services
    ‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ ReceitaService.java
    ‚îÇ       ‚îú‚îÄ‚îÄ domain
    ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ Receita.java
    ‚îÇ       ‚îú‚îÄ‚îÄ infrastructure
    ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ configurations
    ‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ CorsConfig.java
    ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ repositories
    ‚îÇ       ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ ReceitaRepository.java
    ‚îÇ       ‚îî‚îÄ‚îÄ ReceitasApplication.java
    ‚îî‚îÄ‚îÄ resources
        ‚îú‚îÄ‚îÄ application.properties
        ‚îî‚îÄ‚îÄ data.sql (opcional para cargas iniciais)
```

---

# üìå Dom√≠nios

## **üü¶ Domain**

Cont√©m a entidade principal da API:

### `Receita.java`

A entidade que representa uma receita no sistema. Cont√©m os campos principais e suas valida√ß√µes.

---

# üìå DTOs

Localizados em `application/dtos`.

### ‚úî **CriarReceitaRequestDto.java**

Record usado para receber requisi√ß√µes de cria√ß√£o/atualiza√ß√£o:

```java
public record CriarReceitaRequestDto(String nome, String descricao, Double valor) {}
```

### ‚úî **CriarReceitaResponseDto.java**

Retorno padronizado das opera√ß√µes:

```java
public record CriarReceitaResponseDto(UUID id, String nome, String descricao, Double valor) {}
```

---

# üìå Application Layer

## **Controllers** ‚Üí `ReceitaController.java`

Exp√µe os endpoints da API.

Rotas:

* **POST /receitas** ‚Äì cria uma receita
* **GET /receitas** ‚Äì lista todas
* **GET /receitas/{id}** ‚Äì busca por ID
* **PATCH /receitas/{id}** ‚Äì atualiza parcialmente
* **DELETE /receitas/{id}** ‚Äì exclui

## **Services** ‚Üí `ReceitaService.java`

Onde fica a regra de neg√≥cio.

Exemplo de m√©todo PATCH:

```java
public void atualizarReceita(UUID id, CriarReceitaRequestDto dto) {
    Receita receitaExistente = receitaRepository.findById(id)
        .orElseThrow(() -> new RuntimeException("Receita n√£o encontrada"));

    receitaExistente.setNome(dto.nome());
    receitaExistente.setDescricao(dto.descricao());
    receitaExistente.setValor(dto.valor());

    receitaRepository.save(receitaExistente);
}
```

---

# üìå Infraestrutura

## **CORS Config** ‚Üí `CorsConfig.java`

Permite requisi√ß√µes de clientes externos.

## **Repository** ‚Üí `ReceitaRepository.java`

Interface JPA:

```java
public interface ReceitaRepository extends JpaRepository<Receita, UUID> {}
```

---

# üê≥ Docker

Um ambiente simples com **Spring Boot + PostgreSQL**.

## Exemplo de `docker-compose.yml` para desenvolvimento:

```yaml
version: '3.8'
services:
  postgres:
    image: postgres:15
    container_name: receitas-db
    environment:
      POSTGRES_DB: receitas
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: postgres
    ports:
      - "5432:5432"
    volumes:
      - pgdata:/var/lib/postgresql/data
    restart: always

  api:
    build: .
    container_name: receitas-api
    ports:
      - "8080:8080"
    depends_on:
      - postgres
    environment:
      SPRING_DATASOURCE_URL: jdbc:postgresql://postgres:5432/receitas
      SPRING_DATASOURCE_USERNAME: postgres
      SPRING_DATASOURCE_PASSWORD: postgres
    restart: always

volumes:
  pgdata:
```

---

# ‚ñ∂ Como Rodar o Projeto

### 1Ô∏è‚É£ Clonar o reposit√≥rio

```
git clone https://github.com/seu-repo/projeto-receitas.git
cd projeto-receitas
```

### 2Ô∏è‚É£ Rodar com Docker

```
docker-compose up --build -d
```

### 3Ô∏è‚É£ Acessar a API

```
http://localhost:8080/receitas
```

---

# üìÆ Exemplos de Requests

## Criar receita

```http
POST /receitas
Content-Type: application/json

{
  "nome": "Bolo de Cenoura",
  "descricao": "Cobertura de chocolate",
  "valor": 29.90
}
```

## Atualizar receita

```http
PATCH /receitas/UUID_AQUI
{
  "nome": "Bolo de Cenoura Gourmet"
}
```

---

# ‚úî Conclus√£o

Este projeto demonstra:

* Arquitetura organizada baseada em DDD
* Uso de DTOs modernos com record
* Servi√ßo limpo com regras encapsuladas
* Reposit√≥rio JPA desacoplado
* Docker pronto para desenvolvimento

Se quiser, posso **adicionar badges**, **melhorar o visual**, **gerar diagrama**, ou **criar documenta√ß√£o da API com Swagger**.
